@model UpdateStaffDto
@{
    ViewData["Title"] = "UpdateStaff";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Styles{
    <!--begin::Page Vendors Styles(used by this page)-->
    <link href="~/assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
    <!--end::Page Vendors Styles-->
}
<!--begin::Card-->
<div class="card card-custom">
    <!--Begin::Header-->
    <div class="card-header card-header-tabs-line">
        <div class="card-toolbar">
            <ul class="nav nav-tabs nav-tabs-space-lg nav-tabs-line nav-tabs-bold nav-tabs-line-3x" role="tablist">
                <li class="nav-item mr-3">
                    <a class="nav-link active" data-toggle="tab" id="tab_1" href="#kt_apps_contacts_view_tab_1">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-address-book"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">Genel </span>
                    </a>
                </li>
                <li class="nav-item mr-3">
                    <a class="nav-link" data-toggle="tab" id="tab_2" href="#kt_apps_contacts_view_tab_2">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-business-time"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">Kariyer</span>
                    </a>
                </li>
                <li class="nav-item mr-3">
                    <a class="nav-link" data-toggle="tab" id="tab_3" href="#kt_apps_contacts_view_tab_3">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-user-edit"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">Kişisel Bilgiler</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" id="tab_4" href="#kt_apps_contacts_view_tab_4">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-house-user"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">Diğer Bilgiler</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" id="tab_5" href="#kt_apps_contacts_view_tab_5">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-plane-departure"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">İzinler</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" id="tab_6" href="#kt_apps_contacts_view_tab_6">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-wallet"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">Ödemeler</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" id="tab_7" href="#kt_apps_contacts_view_tab_7">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-user-clock"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">Mesai</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" id="tab_8" href="#kt_apps_contacts_view_tab_8">
                        <span class="nav-icon mr-2">
                            <span class="svg-icon mr-3">
                                <i class="fas fa-folder"></i>
                            </span>
                        </span>
                        <span class="nav-text font-weight-bold">Belgeler</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <!--Begin::Body-->
    <div class="card-body">
        <!--begin::Profile Personal Information-->
        <div class="d-flex flex-row">
            <!--begin::Aside-->
            <div class="flex-row-auto offcanvas-mobile w-300px w-xxl-400px h-75" id="kt_profile_aside">
                <!--begin::Profile Card-->
                <div class="card card-custom card-stretch">
                    <!--begin::Body-->
                    <div class="card-body pt-4">
                        <!--begin::Toolbar-->
                        <div class="d-flex justify-content-end">
                            <div class="dropdown dropdown-inline">
                                <a href="#" class="btn btn-clean btn-hover-light-primary btn-sm btn-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="ki ki-bold-more-hor"></i>
                                </a>
                                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
                                    <!--begin::Navigation-->
                                    <ul class="navi navi-hover">
                                        <li class="navi-item bg-danger">
                                            <a href="#" class="navi-link">
                                                <span class="navi-icon">
                                                    <i class="flaticon2-drop"></i>
                                                </span>
                                                <span class="navi-text">İşten Çıkart</span>
                                            </a>
                                        </li>
                                    </ul>
                                    <!--end::Navigation-->
                                </div>
                            </div>
                        </div>
                        <!--end::Toolbar-->
                        <!--begin::User-->
                        <div class="d-flex align-items-center">
                            <div class="symbol symbol-60 symbol-xxl-100 mr-5 align-self-start align-self-xxl-center">
                                <div class="symbol symbol-label symbol-lg-100">
                                    <img src="~/assets/media/users/300_5.jpg" alt="image" />
                                </div>
                                <i class="symbol-badge bg-success"></i>
                            </div>
                            <div>
                                <a href="#" class="font-weight-bolder font-size-h5 text-dark-75 text-hover-primary">@Model.NameSurname</a>
                                <div class="text-muted"></div>

                            </div>
                        </div>
                        <!--end::User-->
                        <!--begin::Contact-->
                        <div class="py-9">
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <span class="font-weight-bold mr-2">İşe başlama tarihi:</span>
                                <span class="text-muted ">@Model.JobJoinDate.ToShortDateString()</span>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <span class="font-weight-bold mr-2">Şube:</span>
                                <span class="text-muted ">@Model.ActiveCareer.BranchName</span>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <span class="font-weight-bold mr-2">Departman:</span>
                                <span class="text-muted ">@Model.ActiveCareer.DepartmantName</span>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <span class="font-weight-bold mr-2">Unvan:</span>
                                <span class="text-muted ">@Model.ActiveCareer.Title</span>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <span class="font-weight-bold mr-2">Şirket:</span>
                                <span class="text-muted ">@Model.ActiveCareer.CompanyName</span>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <span class="font-weight-bold mr-2">Telefon (İş):</span>
                                <span class="text-muted">@Model.PhoneJob</span>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <span class="font-weight-bold mr-2">E-Posta (İş):</span>
                                <a href="#" class="text-muted text-hover-primary">@Model.EmailJob</a>
                            </div>
                        </div>
                    </div>
                    <!--end::Body-->
                </div>
                <!--end::Profile Card-->

            </div>
            <!--end::Aside-->
            <div class="tab-content w-100">
                @*Staff General*@
                <div class="tab-pane active" role="tabpanel" id="kt_apps_contacts_view_tab_1">
                    <div class="flex-row-fluid ml-lg-8">
                        <!--begin::Form-->
                        <form class="form" asp-action="UpdateStaffGeneral" asp-controller="Staff" method="post">
                            <!--begin::Card-->
                            <div class="card card-custom card-stretch">
                                <!--begin::Header-->
                                <div class="card-header py-3">
                                    <div class="card-title align-items-start flex-column">
                                        <h3 class="card-label font-weight-bolder text-dark">
                                            <i class="fas fa-address-book mr-2 text-dark"></i>Genel Bilgiler
                                        </h3>
                                        <span class="text-muted font-weight-bold font-size-sm mt-1">Genel bilgilerini düzenleyin</span>
                                    </div>
                                    <div class="card-toolbar">
                                        <button class="btn btn-primary mr-2">Kaydet</button>
                                        <a class="btn btn-secondary">Geri</a>
                                    </div>
                                </div>
                                <!--end::Header-->

                                <div class="container">
                                    <!--begin::Body-->
                                    <div class="card-body">

                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group row ">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Ad Soyad</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <input asp-for="NameSurname" class="form-control form-control-lg form-control-solid" type="text" />
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">E-Posta (İş)</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="la la-at"></i>
                                                                </span>
                                                            </div>
                                                            <input asp-for="EmailJob" type="text" class="form-control form-control-lg form-control-solid" placeholder="Email" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Telefon (İş)</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="la la-phone"></i>
                                                                </span>
                                                            </div>
                                                            <input asp-for="PhoneJob" type="text" class="form-control form-control-lg form-control-solid" placeholder="Phone" />
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Sözleşme Türü</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect" asp-for="ContractTypeId" class="form-control form-control-solid form-control-lg ">
                                                            <option disabled value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.ContractTypeList)
                                                            {
                                                                if (Model.ContractTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>
                                                @if (Model.ContractTypeId == 1)
                                                {
                                                    <div class="form-group row">
                                                        <label id="jobFinishDateLbl" class="col-xl-3 col-lg-3 col-form-label">Sözleşme Bitiş Tarihi</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <div class="input-group date input-group-solid" id="kt_datetimepicker_3" data-target-input="nearest">
                                                                <input id="ContractFinishDate" asp-for="JobFinishDate" type="text" class="form-control datetimepicker-input form-control-lg " placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_3" />
                                                                <div class="input-group-append" data-target="#kt_datetimepicker_3" data-toggle="datetimepicker">
                                                                    <span class="input-group-text">
                                                                        <i class="ki ki-calendar"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="form-group row">
                                                        <label id="jobFinishDateLbl" class="col-xl-3 col-lg-3 col-form-label text-muted">Sözleşme Bitiş Tarihi</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <div class="input-group date input-group-solid" id="kt_datetimepicker_3" data-target-input="nearest">
                                                                <input id="ContractFinishDate" asp-for="JobFinishDate" type="text" class="form-control form-control-lg datetimepicker-input  text-muted" disabled placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_3" />
                                                                <div class="input-group-append" data-target="#kt_datetimepicker_3" data-toggle="datetimepicker">
                                                                    <span class="input-group-text">
                                                                        <i class="ki ki-calendar"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }


                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">İşe Başlama Tarihi</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group date input-group-solid" id="kt_datetimepicker_2" data-target-input="nearest">
                                                            <input asp-for="JobJoinDate" type="text" class="form-control datetimepicker-input form-control-lg" placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_2" />
                                                            <div class="input-group-append  " data-target="#kt_datetimepicker_2" data-toggle="datetimepicker">
                                                                <span class="input-group-text">
                                                                    <i class="ki ki-calendar"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">E-Posta (Kişisel)</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="la la-at"></i>
                                                                </span>
                                                            </div>
                                                            <input asp-for="EmailPersonal" type="text" class="form-control form-control-lg form-control-solid" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Telefon (Kişisel)</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="la la-phone"></i>
                                                                </span>
                                                            </div>
                                                            <input asp-for="PhonePersonal" type="text" class="form-control form-control-lg form-control-solid" />
                                                            <input type="hidden" asp-for="@Model.StaffId" />
                                                        </div>

                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Erişim Türü</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select class="form-control form-control-solid form-control-lg" asp-for="RoleId">
                                                            <option disabled value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.Roles)
                                                            {
                                                                if (Model.RoleId == item.RoleId)
                                                                {
                                                                    <option value="@item.RoleId" selected>@item.Name</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.RoleId">@item.Name</option>
                                                                }


                                                            }
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Body-->
                                </div>


                            </div>
                        </form>
                        <!--end::Form-->
                    </div>
                </div>
                @*Staff Career*@
                <div class="tab-pane " role="tabpanel" id="kt_apps_contacts_view_tab_2">
                    <!--begin::Entry-->
                    <div class="d-flex flex-column-fluid">
                        <!--begin::Container-->
                        <div class="container">
                            <!--begin::Notice-->
                            <!--end::Notice-->
                            <!--begin::Card-->
                            <div class="card card-custom">
                                <div class="card-header flex-wrap py-5">
                                    <div class="card-title">
                                        <i class="fas fa-business-time text-dark mr-2"></i>
                                        <h3 class="card-label">
                                            Kariyer

                                        </h3>
                                    </div>
                                    <div class="card-toolbar">
                                        <!--begin::Button-->
                                        <button type="button" class="btn btn-primary mr-2" data-toggle="modal" data-target="#staffCareerAddModal">
                                            Pozisyon Ekle
                                        </button>
                                        <!--end::Button-->
                                    </div>
                                </div>
                                <div class="card-body">
                                    <!--begin: Datatable-->
                                    <table class="table table-separate table-head-custom table-checkable" id="kt_datatable">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>Başlangıç</th>
                                                <th>Bitiş</th>
                                                <th>Çalışma Şekli</th>
                                                <th>Şirket</th>
                                                <th>Şube</th>
                                                <th>Departman</th>
                                                <th>Unvan</th>
                                                <th>İşlemler</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.ListStaffCareer)
                                            {
                                                <tr>
                                                    <td>@item.IsActive</td>
                                                    <td>@item.JobStartDate.ToShortDateString()</td>
                                                    @if (item.JobFinishDate != null)
                                                    {
                                                        <td>@item.JobFinishDate.Value.ToShortDateString()</td>
                                                    }
                                                    else
                                                    {
                                                        <td><span class="badge badge-success badge-pill">Devam ediyor</span> </td>
                                                    }

                                                    <td>@item.ModeOfOperation</td>
                                                    <td>@item.CompanyName</td>
                                                    <td>@item.BranchName</td>
                                                    <td>@item.DepartmantName</td>
                                                    <td>@item.Title</td>
                                                    <td>
                                                        <a id="CareerUpdateBtn" onclick="CareerUpdate(@item.StaffCareerId)" class="btn btn-sm btn-clean btn-icon" title="Edit details" data-toggle="modal" data-target="#staffCareerUpdateModal">
                                                            <i class="la la-edit text-warning"></i>
                                                        </a>
                                                        <a class="btn btn-sm btn-clean btn-icon" title="Delete">

                                                            <i class="la la-trash text-danger"></i>
                                                        </a>
                                                    </td>
                                                </tr>

                                            }
                                        </tbody>
                                    </table>
                                    <!--end: Datatable-->
                                </div>
                            </div>
                            <!--end::Card-->
                        </div>
                        <!--end::Container-->
                    </div>
                    <!--end::Entry-->
                </div>


                @*Staff Personal Info*@
                <div class="tab-pane " role="tabpanel" id="kt_apps_contacts_view_tab_3">
                    <div class="flex-row-fluid ml-lg-8">
                        <!--begin::Form-->
                        <form class="form" asp-action="UpdateStaffPersonalInfo" asp-controller="Staff" method="post">
                            <!--begin::Card-->
                            <div class="card card-custom card-stretch">
                                <!--begin::Header-->
                                <div class="card-header py-3">
                                    <div class="card-title align-items-start flex-column">
                                        <h3 class="card-label font-weight-bolder text-dark">
                                            <i class="fas fa-user-edit text-dark mr-2"></i>Kişisel Bilgiler
                                        </h3>
                                        <span class="text-muted font-weight-bold font-size-sm mt-1">Kişisel bilgileri düzenleyin</span>
                                    </div>
                                    <div class="card-toolbar">
                                        <button class="btn btn-primary mr-2">Kaydet</button>
                                        <a class="btn btn-secondary">Geri</a>
                                    </div>
                                </div>
                                <!--end::Header-->

                                <div class="container">
                                    <!--begin::Body-->
                                    <div class="card-body">

                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Doğum Tarihi</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group date input-group-solid" id="kt_datetimepicker_4" data-target-input="nearest">
                                                            <input asp-for="@Model.StaffPersonelInfo.BirthDate" type="text" class="form-control datetimepicker-input form-control-lg" placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_4" />
                                                            <div class="input-group-append" data-target="#kt_datetimepicker_4" data-toggle="datetimepicker">
                                                                <span class="input-group-text">
                                                                    <i class="ki ki-calendar"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Medeni Hal</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect" asp-for="@Model.StaffPersonelInfo.MaritalStatusGeneralSubTypeId" class="form-control form-control-solid form-control-lg">
                                                            <option disabled selected value="null">Seçiniz</option>
                                                            @foreach (var item in @Model.MaritialStatusList)
                                                            {
                                                                if (Model.StaffPersonelInfo.MaritalStatusGeneralSubTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Engel Derecesi</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect2" asp-for="@Model.StaffPersonelInfo.DegreeOfDisabilityGeneralSubTypeId" class="form-control form-control-solid form-control-lg">
                                                            <option disabled selected value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.DegreeOfDisabilityList)
                                                            {
                                                                if (Model.StaffPersonelInfo.DegreeOfDisabilityGeneralSubTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>


                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Eğitim Durumu</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect3" asp-for="@Model.StaffPersonelInfo.EducationStatusGeneralSubTypeId" class="form-control form-control-solid form-control-lg">
                                                            <option disabled selected value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.EducationStatusList)
                                                            {
                                                                if (Model.StaffPersonelInfo.EducationStatusGeneralSubTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Kimlik Numarası</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <input asp-for="StaffPersonelInfo.IdNumber" type="text" class="form-control form-control-lg form-control-solid" placeholder="Kimlik Numarası" />
                                                            <input type="hidden" asp-for="@Model.StaffPersonelInfo.StaffPersonelInfoId" />
                                                            <input type="hidden" asp-for="StaffId" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Cinsiyet</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect3" asp-for="@Model.StaffPersonelInfo.GenderGeneralSubTypeId" class="form-control form-control-solid form-control-lg">
                                                            <option disabled selected value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.GenderList)
                                                            {
                                                                if (Model.StaffPersonelInfo.GenderGeneralSubTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>

                                                @*<div class="form-group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">Uyruğu</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <select id="ContractTypeSelect3" asp-for="ContractTypeId" class="form-control form-control-solid form-control-lg">
                                                                @foreach (var item in Model.ContractTypeList)
                                                                {
                                                                    if (Model.ContractType == item.Description)
                                                                    {
                                                                        <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                    }

                                                                }
                                                            </select>
                                                        </div>
                                                    </div>*@

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Kan Grubu</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect3" asp-for="@Model.StaffPersonelInfo.BloodGroupGeneralSubTypeId" class="form-control form-control-solid form-control-lg">
                                                            <option disabled selected value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.BloodGroupList)
                                                            {
                                                                if (Model.StaffPersonelInfo.BloodGroupGeneralSubTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Tamamlanan En Yüksek Eğitim Seviyesi</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect3" asp-for="@Model.StaffPersonelInfo.EducationLevelGeneralSubTypeId" class="form-control form-control-solid form-control-lg ">
                                                            <option disabled selected value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.EducationLevelList)
                                                            {
                                                                if (Model.StaffPersonelInfo.EducationLevelGeneralSubTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Body-->
                                </div>


                            </div>
                        </form>
                        <!--end::Form-->
                    </div>
                </div>
                @*Staff Other  Info*@
                <div class="tab-pane" role="tabpanel" id="kt_apps_contacts_view_tab_4">
                    <div class="flex-row-fluid ml-lg-8">
                        <!--begin::Form-->
                        <form class="form" asp-action="UpdateStaffOtherInfo" asp-controller="Staff" method="post">
                            <!--begin::Card-->
                            <div class="card card-custom card-stretch">
                                <!--begin::Header-->
                                <div class="card-header py-3">
                                    <div class="card-title align-items-start flex-column">
                                        <h3 class="card-label font-weight-bolder text-dark">
                                            <i class="fas fa-house-user text-dark mr-2"></i>Diğer Bilgiler
                                        </h3>
                                        <span class="text-muted font-weight-bold font-size-sm mt-1">Diğer bilgileri düzenleyin</span>
                                    </div>
                                    <div class="card-toolbar">
                                        <button class="btn btn-primary mr-2">Kaydet</button>
                                        <a class="btn btn-secondary">Geri</a>
                                    </div>
                                </div>
                                <!--end::Header-->
                                <div><h6 class="mt-4 ml-5 mb-0 px-4"> Adres Bilgileri</h6></div>

                                <hr />
                                <div class="container">
                                    <!--begin::Body-->
                                    <div class="card-body">

                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Adres</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <textarea asp-for="StaffOtherInfo.Adress" type="text" class="form-control form-control-lg form-control-solid" placeholder="Adres"></textarea>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Ev Telefonu</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="la la-phone"></i>
                                                                </span>
                                                            </div>
                                                            <input asp-for="StaffOtherInfo.HomePhoneNumber" type="text" class="form-control form-control-lg form-control-solid" placeholder="Ev Telefonu" />
                                                            <input type="hidden" asp-for="@Model.StaffOtherInfo.StaffOtherInfoId" />
                                                            <input type="hidden" asp-for="StaffId" />
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Posta Kodu</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <input asp-for="StaffOtherInfo.PostalCode" type="text" class="form-control form-control-lg form-control-solid" placeholder="Posta Kodu" />

                                                        </div>
                                                    </div>
                                                </div>


                                            </div>
                                            <div class="col-md-6">
                                                @if (Model.TownId > 0)
                                                {
                                                    <div class="form-group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">Ülke</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <select id="kt_select2_1" onchange="countryChange()" style=" width: 100% !important;" class="form-control form-control-solid form-control-lg" asp-for="TownHelper.CountryId" asp-items="ViewBag.Countries">
                                                                <option disabled value="-1">Ülke Seçiniz</option>
                                                            </select>
                                                        </div>
                                                    </div>


                                                    <div class="form-group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">Şehir</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <select id="kt_select2_city" onchange="cityChange()" style=" width: 100% !important;" asp-for="TownHelper.CityId" class="form-control form-control-solid form-control-lg text-muted" asp-items="ViewBag.Cities" placeholder="deneme">
                                                                <option disabled selected value="-1">Seçiniz</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">İlçe</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <select id="kt_select2_town" asp-for="StaffOtherInfo.TownId" style=" width: 100% !important;" class="form-control form-control-solid form-control-lg text-muted" asp-items="ViewBag.Towns">
                                                                <option disabled selected value="-1">Seçiniz</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="form-group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">Ülke</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <select id="kt_select2_1" onchange="countryChange()" style=" width: 100% !important;" class="form-control form-control-lg " asp-for="TownHelper.CountryId" asp-items="ViewBag.Countries">
                                                                <option value="-1">Ülke Seçiniz</option>
                                                            </select>
                                                        </div>
                                                    </div>


                                                    <div class="form-group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">Şehir</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <select id="kt_select2_city" onchange="cityChange()" style=" width: 100% !important;" asp-for="TownHelper.CityId" disabled class="form-control form-control-solid form-control-lg text-muted">
                                                                <option disabled value="-1">Seçiniz</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label class="col-xl-3 col-lg-3 col-form-label">İlçe</label>
                                                        <div class="col-lg-9 col-xl-6">
                                                            <select id="kt_select2_town" disabled asp-for="StaffOtherInfo.TownId" style=" width: 100% !important;" class="form-control form-control-solid form-control-lg text-muted">
                                                                <option disabled value="-1">Seçiniz</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                }

                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Body-->
                                </div>

                                @*Banka Bilgileri*@
                                <div><h6 class="ml-5 mb-0 px-4"> Banka Bilgileri</h6></div>

                                <hr />
                                <div class="container">
                                    <!--begin::Body-->
                                    <div class="card-body">

                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Banka Adı</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <input asp-for="StaffOtherInfo.BankName" type="text" class="form-control form-control-lg form-control-solid" placeholder="Banka Adı" />

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Hesap No</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <input asp-for="StaffOtherInfo.AccountNo" type="text" class="form-control form-control-lg form-control-solid" placeholder="Hesap No" />

                                                        </div>
                                                    </div>
                                                </div>


                                            </div>
                                            <div class="col-md-6">

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Hesap Tipi</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <select id="ContractTypeSelect3" asp-for="@Model.StaffOtherInfo.AccountTypeGeneralSubTypeId" class="form-control form-control-solid form-control-lg">
                                                            <option disabled selected value="-1">Seçiniz</option>
                                                            @foreach (var item in Model.AccountTypeList)
                                                            {
                                                                if (Model.StaffOtherInfo.AccountTypeGeneralSubTypeId == item.GeneralSubTypeId)
                                                                {
                                                                    <option value="@item.GeneralSubTypeId" selected>@item.Description</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.GeneralSubTypeId">@item.Description</option>
                                                                }

                                                            }
                                                        </select>
                                                    </div>
                                                </div>


                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">IBAN</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <input asp-for="StaffOtherInfo.Iban" type="text" class="form-control form-control-lg form-control-solid" placeholder="IBAN" />

                                                        </div>
                                                    </div>
                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Body-->
                                @*Acil Durum Bilgileri*@
                                <div>
                                    <h6 class="ml-5 mb-0 px-4">Acil Durum Bilgileri</h6>
                                    <span class="ml-5 px-4 text-muted font-weight-bold font-size-sm mt-1">Acil durumda aranacak kişi bilgileri</span>
                                </div>

                                <hr />
                                <div class="container">
                                    <!--begin::Body-->
                                    <div class="card-body">

                                        <div class="row">

                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Ad Soyad</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <input asp-for="StaffOtherInfo.CallPersonNameSurname" type="text" class="form-control form-control-lg form-control-solid" placeholder="Ad Soyad" />

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Telefonu</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text">
                                                                    <i class="la la-phone"></i>
                                                                </span>
                                                            </div>
                                                            <input asp-for="StaffOtherInfo.CallPersonPhoneNumber" type="text" class="form-control form-control-lg form-control-solid" placeholder="Telefon" />
                                                        </div>

                                                    </div>
                                                </div>


                                            </div>
                                            <div class="col-md-6">

                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">Yakınlık Dererecesi</label>
                                                    <div class="col-lg-9 col-xl-6">
                                                        <div class="input-group input-group-lg input-group-solid">

                                                            <input asp-for="StaffOtherInfo.CallPersonProximityDegree" type="text" class="form-control form-control-lg form-control-solid" placeholder="Yakınlık Derecesi" />

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end::Body-->

                            </div>
                        </form>
                        <!--end::Form-->
                    </div>
                </div>
                @*Staff Leave Info*@
                <div class="tab-pane" role="tabpanel" id="kt_apps_contacts_view_tab_5">
                    <div class="tab-pane " role="tabpanel" id="kt_apps_contacts_view_tab_2">
                        <!--begin::Entry-->
                        <div class="d-flex flex-column-fluid">
                            <!--begin::Container-->
                            <div class="container">
                                <!--begin::Notice-->
                                <!--end::Notice-->
                                <!--begin::Card-->
                                <div class="card card-custom">
                                    <div class="card-header flex-wrap py-5">
                                        <div class="card-title">
                                            <i class="fas fa-plane-departure text-dark mr-2"></i>
                                            <h3 class="card-label">
                                                İzinler

                                            </h3>
                                        </div>
                                        <div class="card-toolbar">
                                            <!--begin::Button-->
                                            <button type="button" class="btn btn-primary mr-2" data-toggle="modal" data-target="#staffLeaveAddModal">
                                                İzin Ekle
                                            </button>
                                            <!--end::Button-->
                                        </div>

                                    </div>
                                    <div class="card-body">
                                        <!--begin: Datatable-->
                                        <table class="table table-separate table-head-custom table-checkable" id="kt_datatable_2">
                                            <thead>
                                                <tr>
                                                    <th>Başlangıç</th>
                                                    <th>Bitiş</th>
                                                    <th>Süre</th>
                                                    <th>İzin Türü</th>
                                                    <th>Açıklama</th>
                                                    <th>Durum</th>
                                                    <th>İşlemler</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in Model.ListStaffLeave)
                                                {
                                                    <tr>

                                                        <td>@item.LeaveStartDate.ToString("d")</td>

                                                        <td>@item.LeaveEndDate.ToString("d")</td>
                                                       
                                                        <td>@item.TotalDay Gün</td>
                                                        <td>@item.LeaveType</td>
                                                        <td>@item.Description</td>
                                                        <td>@item.GeneralStatusGeneralSubTypeId</td>
                                                        <td>
                                                            <a id="CareerUpdateBtn" onclick="LeaveUpdate(@item.StaffLeaveId)" class="btn btn-sm btn-clean btn-icon" title="Edit details" data-toggle="modal" data-target="#staffLeaveUpdateModal">
                                                                <i class="la la-edit text-warning"></i>
                                                            </a>
                                                            <a class="btn btn-sm btn-clean btn-icon" title="Delete">

                                                                <i class="la la-trash text-danger"></i>
                                                            </a>
                                                        </td>
                                                    </tr>

                                                }
                                            </tbody>
                                        </table>
                                        <!--end: Datatable-->
                                    </div>
                                </div>
                                <!--end::Card-->
                            </div>
                            <!--end::Container-->
                        </div>
                        <!--end::Entry-->
                    </div>
                </div>
                <div class="tab-pane" role="tabpanel" id="kt_apps_contacts_view_tab_6">
                    @await Component.InvokeAsync("StaffPayment")
                </div>
                <div class="tab-pane" role="tabpanel" id="kt_apps_contacts_view_tab_7">
                    @await Component.InvokeAsync("StaffShift")
                </div>
                <div class="tab-pane" role="tabpanel" id="kt_apps_contacts_view_tab_8">
                    @await Component.InvokeAsync("Document")
                </div>

            </div>
        </div>
    </div>
</div>


@* add career modal*@
<div class="modal fade" id="staffCareerAddModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeLg" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="card-title align-items-start flex-column">
                    <h3 class="card-label font-weight-bolder text-dark">
                        <i class="fas fa-address-book mr-2 text-dark"></i>Pozisyon Ekle
                    </h3>

                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
            <form id="modalAddCareer" method="POST">
                <div class="modal-body">
                    <div class="flex-row-fluid ">
                        <!--begin::Form-->
                        <!--begin::Card-->
                        <div class="card card-custom card-stretch">
                            <!--begin::Header-->
                            <!--end::Header-->

                            <div class="container ">
                                <!--begin::Body-->
                                <div class="card-body mx-auto">

                                    <div class="row">

                                        <div class="col-md-6 ">
                                            <div class="form-group row justify-content-center">
                                                <label class="col-xl-4 col-lg-3 col-form-label">Şirket</label>
                                                <div class="col-lg-9 col-xl-6">
                                                    <select onchange="CompanyChange()" class="form-control form-control-solid form-control-lg" id="c_companySelect" name="CompanyId" asp-items="ViewBag.Companies">
                                                        <option value="-1">Seçiniz</option>

                                                    </select>

                                                </div>

                                            </div>
                                            <div class="form-group row justify-content-center">
                                                <label class="col-xl-4 col-lg-3 col-form-label">Departman</label>
                                                <div class="col-lg-9 col-xl-6">
                                                    <select class="form-control form-control-solid form-control-lg" name="DepartmantGeneralSubTypeId" asp-items="ViewBag.Departments">
                                                        <option value="-1">Seçiniz</option>

                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group row justify-content-center">
                                                <label class="col-xl-4 col-lg-3 col-form-label">Çalışma Şekli</label>
                                                <div class="col-lg-9 col-xl-6">
                                                    <select class="form-control form-control-solid form-control-lg" name="ModeOfOperationGeneralSubTypeId" asp-items="ViewBag.ModeOfOperations">
                                                        <option value="-1">Seçiniz</option>

                                                    </select>
                                                </div>
                                            </div>


                                            <div class="form-group row justify-content-center">
                                                <label id="jobFinishDateLbl" class="col-xl-4 col-lg-3 col-form-label">Başlangıç Tarihi</label>
                                                <div class="col-lg-9 col-xl-6">
                                                    <div class="input-group date input-group-solid" id="kt_datetimepicker_5" data-target-input="nearest">
                                                        <input id="ContractStartDate" name="JobStartDate" type="text" class="form-control form-control-lg datetimepicker-input" placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_5" />
                                                        <div class="input-group-append" data-target="#kt_datetimepicker_5" data-toggle="datetimepicker">
                                                            <span class="input-group-text">
                                                                <i class="ki ki-calendar"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group row justify-content-center">
                                                <label class="col-xl-4 col-lg-3 col-form-label">Şube</label>
                                                <div class="col-lg-9 col-xl-6">
                                                    <select class="form-control form-control-solid form-control-lg text-muted" disabled id="c_companyBranchSelect" name="CompanyBranchId">
                                                        <option value="-1">Seçiniz</option>

                                                    </select>
                                                </div>
                                            </div>


                                            <div class="form-group row justify-content-center">
                                                <label class="col-xl-4 col-lg-3 col-form-label">Unvan</label>
                                                <div class="col-lg-9 col-xl-6">
                                                    <select class="form-control form-control-solid form-control-lg" name="TitleGeneralSubTypeId" asp-items="ViewBag.Titles">
                                                        <option value="-1">Seçiniz</option>

                                                    </select>
                                                    <input type="hidden" asp-for="@Model.StaffId" />
                                                </div>
                                            </div>

                                            <div class="form-group row justify-content-center">
                                                <label id="jobFinishDateLbl" class="col-xl-4 col-lg-3 col-form-label ">Bitiş Tarihi</label>
                                                <div class="col-lg-9 col-xl-6">
                                                    <div class="input-group date input-group-solid" id="kt_datetimepicker_6" data-target-input="nearest">
                                                        <input id="ContractFinishDate" name="JobFinishDate" type="text" class="form-control form-control-lg datetimepicker-input " placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_6" />
                                                        <div class="input-group-append" data-target="#kt_datetimepicker_6" data-toggle="datetimepicker">
                                                            <span class="input-group-text">
                                                                <i class="ki ki-calendar"></i>
                                                            </span>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <!--end::Body-->
                            </div>


                        </div>

                        <!--end::Form-->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Vazgeç</button>
                    <button type="submit" id="btnNewStaff" class="btn btn-primary font-weight-bold">Kaydet</button>
                </div>
            </form>
        </div>
    </div>
</div>

@*add leave modal*@

<div class="modal fade" id="staffLeaveAddModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeLg" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg " role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="card-title align-items-start flex-column">
                    <h3 class="card-label font-weight-bolder text-dark">
                        <i class="fas fa-address-book mr-2 text-dark"></i>İzin Ekle
                    </h3>

                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
            <form id="modalAddLeave" method="POST">
                <input type="hidden" asp-for="StaffId" />
                <div class="modal-body">
                    <div class="flex-row-fluid ">
                        <!--begin::Form-->
                        <!--begin::Card-->
                        <div class="card card-custom card-stretch">
                            <!--begin::Header-->
                            <!--end::Header-->

                            <div class="container ">
                                <!--begin::Body-->
                                <div class="card-body mx-auto">
                                    <div class="row">

                                        <div class="col-md-6">
                                            <div class="form-group row">
                                                <label class="col-xl-5 col-lg-3 col-form-label">İzin Türü</label>
                                                <div class="col-lg-9 col-xl-7">
                                                    <select class="form-control form-control-solid form-control-lg" name="LeaveTypeGeneralSubTypeId" asp-items="ViewBag.LeaveTypes">
                                                        <option value="-1">Seçiniz</option>

                                                    </select>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 ">
                                            <div class="form-group row ">
                                                <label class="col-form-label col-xl-5 col-lg-3 ">Toplam Gün</label>
                                                <div class="col-lg-9 col-xl-7">
                                                    <input id="kt_touchspin_1" type="text" class="form-control text-center" value="0" name="TotalDay" placeholder="Toplam" />
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-md-6">

                                            <div class="form-group row ">
                                                <label class="col-xl-5 col-lg-3 col-form-label">Başlangıç Tarihi</label>
                                                <div class="col-lg-9 col-xl-7">
                                                    <div class="input-group date input-group-solid" id="kt_datetimepicker_14" data-target-input="nearest">
                                                        <input name="LeaveStartDate" type="text" class="form-control form-control-lg datetimepicker-input" placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_14" />
                                                        <div class="input-group-append" data-target="#kt_datetimepicker_14" data-toggle="datetimepicker">
                                                            <span class="input-group-text">
                                                                <i class="ki ki-calendar"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">

                                            <div class="form-group row ">
                                                <label class="col-xl-5 col-lg-3 col-form-label">Bitiş Tarihi</label>
                                                <div class="col-lg-9 col-xl-7">
                                                    <div class="input-group date input-group-solid" id="kt_datetimepicker_15" data-target-input="nearest">
                                                        <input name="LeaveEndDate" type="text" class="form-control form-control-lg datetimepicker-input" placeholder="Tarih Seçiniz" data-target="#kt_datetimepicker_15" />
                                                        <div class="input-group-append" data-target="#kt_datetimepicker_15" data-toggle="datetimepicker">
                                                            <span class="input-group-text">
                                                                <i class="ki ki-calendar"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group row">
                                                <label class="col-xl-3 pr-0 col-lg-3 col-form-label">Açıklama</label>
                                                <div class="col-lg-9 col-xl-9">
                                                    <div class="input-group  pl-0  input-group-lg input-group-solid">

                                                        <textarea type="text" class="form-control form-control-lg form-control-solid" name="Description" placeholder="Açıklama"></textarea>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--end::Body-->
                        </div>


                    </div>

                    <!--end::Form-->
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Vazgeç</button>
                    <button type="submit" id="btnNewStaff" class="btn btn-primary font-weight-bold">Kaydet</button>
                </div>
            </form>
        </div>
    </div>
</div>

@* update career modal*@
<div id="abc"></div>
@* update leave modal*@
<div id="UpdateStaffLeaveModal"></div>
<!--end::Card-->
@section Scripts{
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    @*Sayfa post edildiğinde tab değişikliğini engeller.*@
    <script>

        $(document).ready(function () {

            var url = $(location).attr('href');
            if (url.includes("#")) {
                var dizi = url.split("#");
                let item = dizi[1];
                let tabId = $(".nav-item .active").first().attr("id");
                let paneId = $(this).find('#' + tabId).attr('href');


                let itemHref = $(this).find('#' + item).attr('href');


                $("#" + tabId).removeClass("active");
                $(paneId).removeClass("active");

                $("#" + item).addClass("active");
                $(itemHref).addClass("active");
            }
            else {
                let item = "tab_1";
                let itemHref = $(this).find('#' + item).attr('href');
                $("#" + item).addClass("active");
                $(itemHref).addClass("active");
            }


        });
    </script>

    @*sözleşme türü süreli ise tarih seçme alanı disabled olmamalı, süresizse disable olmalı*@
    <script type="text/javascript">

        $('#ContractTypeSelect').on('change', function () {
            var id = document.getElementById("ContractTypeSelect").value;
            if (id == 1) {
                $("#ContractFinishDate").attr("disabled", false);
                $("#ContractFinishDate").removeClass("text-muted");
                $("#jobFinishDateLbl").removeClass("text-muted");
            }
            else {
                $("#ContractFinishDate").attr("disabled", true);
                $("#ContractFinishDate").addClass("text-muted");
                $("#jobFinishDateLbl").addClass("text-muted");
            }
        });
    </script>

    @*Şirket değişikliği , şube  drop downına yansır*@
    <script type="text/javascript">

        function countryChange() {
            var id = document.getElementById("kt_select2_1").value;
            if (id > 0) {
                $.ajax({
                    method: "GET",
                    url: "/Staff/CityList/" + id,
                }).done(function (content) {
                    $("#kt_select2_city").attr("disabled", false);
                    $("#kt_select2_city").removeClass("text-muted");
                    $("#kt_select2_city").empty();
                    $("#kt_select2_city").append('<option value="-1">İl seçiniz</option>');
                    let cities = JSON.parse(content);
                    for (var i = 0; i < cities.length; i++) {
                        var opt = '<option value="' + cities[i].CityId + '">' + cities[i].Name + '</option>';
                        $("#kt_select2_city").append(opt);
                    }
                }).fail(function (error) {

                });
            } else {
                $("#kt_select2_city").empty();
                $("#kt_select2_city").append('<option value="-1">İl Seçiniz</option>');
                $("#kt_select2_city").attr("disabled", true);
                $("#kt_select2_city").addClass("text-muted");

                $("#kt_select2_town").empty();
                $("#kt_select2_town").append('<option value="-1">İlçe Seçiniz</option>');
                $("#kt_select2_town").attr("disabled", true);
                $("#kt_select2_town").addClass("text-muted");

            }
        }
        function cityChange() {
            var id = document.getElementById("kt_select2_city").value;
            if (id > 0) {
                $.ajax({
                    method: "GET",
                    url: "/Staff/TownList/" + id,
                }).done(function (content) {
                    $("#kt_select2_town").attr("disabled", false);
                    $("#kt_select2_town").removeClass("text-muted");
                    $("#kt_select2_town").empty();
                    $("#kt_select2_town").append('<option value="-1">İlçe seçiniz</option>');

                    let town = JSON.parse(content);
                    for (var i = 0; i < town.length; i++) {
                        var opt = '<option value="' + town[i].TownId + '">' + town[i].Name + '</option>';
                        $("#kt_select2_town").append(opt);
                    }
                }).fail(function (error) {

                });
            } else {
                $("#kt_select2_town").empty();
                $("#kt_select2_town").append('<option value="-1">İlçe seçiniz</option>');
                $("#kt_select2_town").attr("disabled", true);
                $("#kt_select2_town").addClass("text-muted");
            }
        }


    </script>
    @*Ülke ve şehir değişiklikleri drop doena yansır*@
    <script>
        // kariyer ekleme sayfasındaki şirket şube listeleme
        function CompanyChange() {
            var id = document.getElementById("c_companySelect").value;
            console.log(id);
            if (id > 0) {

                $.ajax({
                    method: "GET",
                    url: "/Staff/BranchList/" + id,
                }).done(function (content) {
                    $("#c_companyBranchSelect").attr("disabled", false);
                    $("#c_companyBranchSelect").removeClass("text-muted");
                    $("#c_companyBranchSelect").empty();
                    $("#c_companyBranchSelect").append('<option  value="-1">Şube Seçiniz</option>');

                    let companyBranch = JSON.parse(content);
                    for (var i = 0; i < companyBranch.length; i++) {
                        var opt = '<option value="' + companyBranch[i].CompanyBranchId + '">' + companyBranch[i].BranchName + '</option>';
                        $("#c_companyBranchSelect").append(opt);
                    }
                }).fail(function (error) {

                });
            } else {
                $("#c_companyBranchSelect").empty();
                $("#c_companyBranchSelect").append('<option  value="-1">Şube Seçiniz</option>');
                $("#c_companyBranchSelect").attr("disabled", true);
                $("#c_companyBranchSelect").addClass("text-muted");
            }
        }
        // kariyer güncelleme sayfasındaki şirket şube listeleme
        function CompanyChangeUpdate() {

            var id = document.getElementById("c_companySelectUpdate").value;
            console.log(id);
            if (id > 0) {

                $.ajax({
                    method: "GET",
                    url: "/Staff/BranchList/" + id,
                }).done(function (content) {
                    $("#c_companyBranchSelectUpdate").attr("disabled", false);
                    $("#c_companyBranchSelectUpdate").removeClass("text-muted");
                    $("#c_companyBranchSelectUpdate").empty();
                    $("#c_companyBranchSelectUpdate").append('<option  value="-1">Şube Seçiniz</option>');

                    let companyBranch = JSON.parse(content);
                    for (var i = 0; i < companyBranch.length; i++) {
                        var opt = '<option value="' + companyBranch[i].CompanyBranchId + '">' + companyBranch[i].BranchName + '</option>';
                        $("#c_companyBranchSelectUpdate").append(opt);
                    }
                }).fail(function (error) {

                });
            } else {
                $("#c_companyBranchSelect").empty();
                $("#c_companyBranchSelect").append('<option  value="-1">Şube Seçiniz</option>');
                $("#c_companyBranchSelect").attr("disabled", true);
                $("#c_companyBranchSelect").addClass("text-muted");
            }
        }
    </script>
    @*Modal Add Career*@
    <script>

        $(document).on("submit", "#modalAddCareer", function (event) { //infoForm id li form post edildiğinde


            event.preventDefault();

            $.ajax({
                url: "/Staff/AddStaffCareerWithAjax",
                type: "POST",
                data: new FormData(this),
                dataType: "json",
                contentType: false,
                cache: false,
                processData: false,
                success: function (data) {
                    var url = $(location).attr('href');
                    var dizi = url.split("#");
                    let item = dizi[0];
                    item += "#" + data;
                    console.log(url);
                    window.location.href = item;
                    window.location.reload();
                }
            });
        });
    </script>
    @*//update staff career*@
    <script>
        function CareerUpdate(id) {
            console.log("asafhnasf");
            var modelContent = $("#abc")
            $("#abc").empty();

            $.ajax({
                method: "GET",
                url: "/Staff/GetUpdateStaffCareerModal/" + id,
                dataType: "html",
                cache: false,
            }).done(function (content) {
                if (content != null) {
                    modelContent.html(content);
                }
                $("#staffCareerUpdateModal").modal("show");

                CompanyChangeUpdate();

            }).fail(function (error) {
                alert(error);
            });
        }

        $('#ContractTypeSelect').on('change', function () {
            var id = document.getElementById("ContractTypeSelect").value;
            if (id == 1) {
                $("#ContractFinishDate").attr("disabled", false);
                $("#ContractFinishDate").removeClass("text-muted");
                $("#jobFinishDateLbl").removeClass("text-muted");
            }
            else {
                $("#ContractFinishDate").attr("disabled", true);
                $("#ContractFinishDate").addClass("text-muted");
                $("#jobFinishDateLbl").addClass("text-muted");
            }
        });
    </script>
    @*//update staff leave*@
    <script>
        function LeaveUpdate(id) {

            var modelContent = $("#UpdateStaffLeaveModal")
            $("#UpdateStaffLeaveModal").empty();

            $.ajax({
                method: "GET",
                url: "/Staff/GetUpdateStaffLeaveModal/" + id,
                dataType: "html",
                cache: false,
            }).done(function (content) {
                if (content != null) {
                    modelContent.html(content);
                }
                $("#staffLeaveUpdate").modal("show");

                //CompanyChangeUpdate();

            }).fail(function (error) {
                alert(error);
            });
        }
    </script>
    @*Modal Add StaffLeave*@
    <script>

        $(document).on("submit", "#modalAddLeave", function (event) { //infoForm id li form post edildiğinde


            event.preventDefault();

            $.ajax({
                url: "/Staff/AddStaffLeaveWithAjax",
                type: "POST",
                data: new FormData(this),
                dataType: "json",
                contentType: false,
                cache: false,
                processData: false,
                success: function (data) {
                    $("#staffLeaveAddModal").modal('hide');

                    //var url = $(location).attr('href');
                    //var dizi = url.split("#");
                    //let item = dizi[0];
                    //item += "#" + data;
                    //console.log(url);
                    //window.location.href = item;
                    //window.location.reload();
                }
            });
        });
    </script>


    <!--begin::Page Scripts(used by this page)-->
    <script src="~/assets/js/pages/crud/forms/widgets/bootstrap-datetimepicker.js"></script>
    <!--end::Page Scripts-->
    <!--begin::Page Scripts(used by this page)-->
    <script src="~/assets/js/pages/custom/contacts/edit-contact.js"></script>
    <!--end::Page Scripts-->
    <!--begin::Page Vendors(used by this page)-->
    <script src="~/assets/plugins/custom/datatables/datatables.bundle.js"></script>
    <!--end::Page Vendors-->
    <!--begin::Page Scripts(used by this page)-->
    <script src="~/assets/js/pages/crud/datatables/basic/scrollable.js"></script>
    <!--end::Page Scripts-->
    <!--begin::Page Vendors(used by this page)-->
    <script src="~/assets/plugins/custom/datatables/datatables.bundle.js"></script>
    <!--end::Page Vendors-->
    <!--begin::Page Scripts(used by this page)-->
    <script src="~/assets/js/pages/crud/datatables/advanced/column-rendering.js" charset="windows-1254"></script>
    <!--end::Page Scripts-->


    <script src="~/assets/js/pages/crud/forms/widgets/select2.js"></script>
    <!--begin::Page Scripts(used by this page)-->
    <script src="~/assets/js/pages/crud/forms/widgets/bootstrap-touchspin.js"></script>
    <!--end::Page Scripts-->

}



